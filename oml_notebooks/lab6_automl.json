{"paragraphs":[{"text":"%md\n# Use AutoML\n\n## Introduction\n\nThis lab walks you through the steps to use the AutoML functionality.\n\nEstimated Lab Time: 15 minutes\n\n### About AutoML\nAutoML (Automated Machine Learning) provides built-in data science expertise about data analytics and modeling that you can employ to build machine learning models.\n\n### Objectives\n\nIn this lab, you will learn how to:\n* Create data set (wine data) as Pandas DataFrame and load into ADB\n* Use `automl.AlgorithmSelection` to rank the in-database algorithms by predicted score metric for classification or regression problems\n* Use `automl.FeatureSelection` to quickly identify the most relevant feature subsets for the provided training data set and an in-database algorithm\n* Use `automl.ModelTuning` to tune the hyperparameters for the specified algorithm and training data\n* Use `automl.ModelSelection` to select the top in-database algorithm, and then tune the corresponding model\n\n## **Step 1**: Import libraries supporting OML4Py\n\n1.1. Run the following script to import `oml` module, Pandas package, and `automl` module.","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:34+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Use AutoML</h1>\n<h2>Introduction</h2>\n<p>This lab walks you through the steps to use the AutoML functionality.</p>\n<p>Estimated Lab Time: 15 minutes</p>\n<h3>About AutoML</h3>\n<p>AutoML (Automated Machine Learning) provides built-in data science expertise about data analytics and modeling that you can employ to build machine learning models.</p>\n<h3>Objectives</h3>\n<p>In this lab, you will learn how to:</p>\n<ul>\n<li>Create data set (wine data) as Pandas DataFrame and load into ADB</li>\n<li>Use <code>automl.AlgorithmSelection</code> to rank the in-database algorithms by predicted score metric for classification or regression problems</li>\n<li>Use <code>automl.FeatureSelection</code> to quickly identify the most relevant feature subsets for the provided training data set and an in-database algorithm</li>\n<li>Use <code>automl.ModelTuning</code> to tune the hyperparameters for the specified algorithm and training data</li>\n<li>Use <code>automl.ModelSelection</code> to select the top in-database algorithm, and then tune the corresponding model</li>\n</ul>\n<h2><strong>Step 1</strong>: Import libraries supporting OML4Py</h2>\n<p>1.1. Run the following script to import <code>oml</code> module, Pandas package, and <code>automl</code> module.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537878_-1179828050","id":"20210322-135857_220541127","dateCreated":"2021-03-20T08:36:20+0000","dateStarted":"2021-03-22T14:29:36+0000","dateFinished":"2021-03-22T14:29:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"focus":true,"$$hashKey":"object:40"},{"text":"%python\nimport pandas as pd\nimport oml\nfrom oml import automl","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_-434990865","id":"20210322-135857_1359758209","dateCreated":"2021-03-20T08:36:31+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:41","dateFinished":"2021-03-22T14:29:47+0000","dateStarted":"2021-03-22T14:29:39+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n1.2. Use the `oml.sync` function to create an OML Dataframe as a proxy for the database table WINE.","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:48+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>1.2. Use the <code>oml.sync</code> function to create an OML Dataframe as a proxy for the database table WINE.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_1463043548","id":"20210322-135857_769066278","dateCreated":"2021-03-20T08:36:39+0000","dateStarted":"2021-03-22T14:29:49+0000","dateFinished":"2021-03-22T14:29:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:42"},{"text":"%python\nWINE = oml.sync(\"OMLUSER\", table = \"WINE\")\nprint(WINE.shape)\nprint(WINE.dtypes)","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:49+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_1498723972","id":"20210322-135857_1566961424","dateCreated":"2021-03-20T08:36:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:43","dateFinished":"2021-03-22T14:29:51+0000","dateStarted":"2021-03-22T14:29:50+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(178, 14)\nalcohol                           <class 'oml.core.float.Float'>\nmalic_acid                        <class 'oml.core.float.Float'>\nash                               <class 'oml.core.float.Float'>\nalcalinity_of_ash                 <class 'oml.core.float.Float'>\nmagnesium                         <class 'oml.core.float.Float'>\ntotal_phenols                     <class 'oml.core.float.Float'>\nflavanoids                        <class 'oml.core.float.Float'>\nnonflavanoid_phenols              <class 'oml.core.float.Float'>\nproanthocyanins                   <class 'oml.core.float.Float'>\ncolor_intensity                   <class 'oml.core.float.Float'>\nhue                               <class 'oml.core.float.Float'>\nod280/od315_of_diluted_wines      <class 'oml.core.float.Float'>\nproline                           <class 'oml.core.float.Float'>\ntarget                          <class 'oml.core.string.String'>\ndtype: object\n"}]}},{"text":"%md\n## **Step 2:** Automated Algorithm Selection\nIn this step, you prepare the wine data set by separating predictors from the target as conventional for Python model building. This produces two new proxy objects that will be used in AutoML functions.\n\n2.1. Run the following script to prepare the wine data set:","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:51+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2><strong>Step 2:</strong> Automated Algorithm Selection</h2>\n<p>In this step, you prepare the wine data set by separating predictors from the target as conventional for Python model building. This produces two new proxy objects that will be used in AutoML functions.</p>\n<p>2.1. Run the following script to prepare the wine data set:</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_146190553","id":"20210322-135857_2036486003","dateCreated":"2021-03-20T08:36:38+0000","dateStarted":"2021-03-22T14:29:52+0000","dateFinished":"2021-03-22T14:29:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:44"},{"text":"%python\nWINE_X_cl,WINE_y_cl = WINE.drop('target'), WINE['target']","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:52+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_1161437575","id":"20210322-135857_1254165397","dateCreated":"2021-03-20T08:36:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:45","dateFinished":"2021-03-22T14:29:54+0000","dateStarted":"2021-03-22T14:29:54+0000","results":{"code":"SUCCESS","msg":[]}},{"text":"%md\n2.2. Run the following script to select the top classification algorithms for predicting the WINE data target. It displays the top ranked algorithms and their accuracy.","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:54+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>2.2. Run the following script to select the top classification algorithms for predicting the WINE data target. It displays the top ranked algorithms and their accuracy.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_11726673","id":"20210322-135857_1605028318","dateCreated":"2021-03-20T08:36:38+0000","dateStarted":"2021-03-22T14:29:56+0000","dateFinished":"2021-03-22T14:29:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:46"},{"text":"%python\nas_wine_cl = automl.AlgorithmSelection(mining_function='classification', score_metric='accuracy', parallel=2)\n\nwine_alg_ranking_cl = as_wine_cl.select(WINE_X_cl, WINE_y_cl, k=4)\n\nprint(\"Ranked algorithms:\\n\", wine_alg_ranking_cl)\n\nselected_wine_alg_cl = next(iter(dict(wine_alg_ranking_cl).keys()))\nprint(\"Best algorithm: \", selected_wine_alg_cl)","user":"OMLUSER","dateUpdated":"2021-03-22T14:29:56+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_1862875133","id":"20210322-135857_767926356","dateCreated":"2021-03-20T08:36:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:47","dateFinished":"2021-03-22T14:30:48+0000","dateStarted":"2021-03-22T14:29:57+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Ranked algorithms:\n [('svm_gaussian', 0.9825515947467167), ('svm_linear', 0.9727954971857411), ('nn', 0.9670812114714554), ('rf', 0.9495470383275262)]\nBest algorithm:  svm_gaussian\n"}]}},{"text":"%md\nThe script returns the SVM Gaussian, SVM Linear, Neural Network and Random Forest. Among these, SVM Gaussian is ranked first, and we will use that in subsequent AutoML function calls.\n\n## **Step 3:** Automated Feature Selection\nIn this step, you determine the features that best support the selected algorithm. First define a FeatureSelection object with score metric accuracy. Then call the `reduce` function and specify the desired algorithm, in this case, as determined above and stored in the variable `selected_wine_alg_cl`. Also specify the train and test OML DataFrame proxy objects.\n\nYou see the set of selected columns.\n\n3.1. Run the following script to define the Feature Selection object `fs_wine_cl` and call the `reduce` function with the selected algorithms and WINE proxy objects:","user":"OMLUSER","dateUpdated":"2021-03-22T14:30:48+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>The script returns the SVM Gaussian, SVM Linear, Neural Network and Random Forest. Among these, SVM Gaussian is ranked first, and we will use that in subsequent AutoML function calls.</p>\n<h2><strong>Step 3:</strong> Automated Feature Selection</h2>\n<p>In this step, you determine the features that best support the selected algorithm. First define a FeatureSelection object with score metric accuracy. Then call the <code>reduce</code> function and specify the desired algorithm, in this case, as determined above and stored in the variable <code>selected_wine_alg_cl</code>. Also specify the train and test OML DataFrame proxy objects.</p>\n<p>You see the set of selected columns.</p>\n<p>3.1. Run the following script to define the Feature Selection object <code>fs_wine_cl</code> and call the <code>reduce</code> function with the selected algorithms and WINE proxy objects:</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_981770507","id":"20210322-135857_1178041160","dateCreated":"2021-03-20T08:36:38+0000","dateStarted":"2021-03-22T14:30:50+0000","dateFinished":"2021-03-22T14:30:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:48"},{"text":"%python\nfs_wine_cl = automl.FeatureSelection(mining_function = 'classification', score_metric = 'accuracy', parallel=2)\n\nselected_wine_features_cl = fs_wine_cl.reduce(selected_wine_alg_cl, WINE_X_cl, WINE_y_cl)\n\nWINE_X_reduced_cl = WINE_X_cl[:,selected_wine_features_cl]\n\nprint(\"Selected columns:\", WINE_X_reduced_cl.columns)\nprint(\"Number of columns:\")\n\"{} reduced to {}\".format(len(WINE_X_cl.columns), len(selected_wine_features_cl))","user":"OMLUSER","dateUpdated":"2021-03-22T14:30:50+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_-335470610","id":"20210322-135857_82333112","dateCreated":"2021-03-20T08:36:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:49","dateFinished":"2021-03-22T14:31:31+0000","dateStarted":"2021-03-22T14:30:51+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Selected columns: ['alcohol', 'ash', 'alcalinity_of_ash', 'flavanoids', 'nonflavanoid_phenols', 'color_intensity', 'hue', 'od280/od315_of_diluted_wines', 'proline']\nNumber of columns:\n'13 reduced to 9'\n"}]}},{"text":"%md\n### **Try it Yourself**\nTry other algorithms, such as `svm_linear` or `rf` in the first argument of the reduce function see if different columns are selected.\n\n\n## **Step 4:** Automated Model Tuning\nAt this point, you are ready to build and tune the models you want to use.\n\nFirst, you define a `ModelTuning` object for classification.\nThen, call `tune` to produce the tuned model using the algorithms selected above and the reduced data features.\n\nModel tuning returns a dictionary with the best model and the evaluation results of the other models tried. This also contains a list of the hyperparameter choices tried and their corresponding score.\n\n4.1. Run the following script to define the model tuning object `my_wine_cl` for classification and call `tune`.","user":"OMLUSER","dateUpdated":"2021-03-22T14:31:31+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3><strong>Try it Yourself</strong></h3>\n<p>Try other algorithms, such as <code>svm_linear</code> or <code>rf</code> in the first argument of the reduce function see if different columns are selected.</p>\n<h2><strong>Step 4:</strong> Automated Model Tuning</h2>\n<p>At this point, you are ready to build and tune the models you want to use.</p>\n<p>First, you define a <code>ModelTuning</code> object for classification.\n<br  />Then, call <code>tune</code> to produce the tuned model using the algorithms selected above and the reduced data features.</p>\n<p>Model tuning returns a dictionary with the best model and the evaluation results of the other models tried. This also contains a list of the hyperparameter choices tried and their corresponding score.</p>\n<p>4.1. Run the following script to define the model tuning object <code>my_wine_cl</code> for classification and call <code>tune</code>.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_-1363749680","id":"20210322-135857_226857154","dateCreated":"2021-03-20T08:36:38+0000","dateStarted":"2021-03-22T14:31:32+0000","dateFinished":"2021-03-22T14:31:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:50"},{"text":"%python\nmt_wine_cl = automl.ModelTuning(mining_function = 'classification', parallel=2)\nmt_wine_cl.tune\n\nresults_cl = mt_wine_cl.tune(selected_wine_alg_cl, WINE_X_reduced_cl, WINE_y_cl)\n\ntuned_model_cl = results_cl['best_model']\ntuned_model_cl","user":"OMLUSER","dateUpdated":"2021-03-22T14:31:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_-1949305834","id":"20210322-135857_230835750","dateCreated":"2021-03-20T08:36:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:51","dateFinished":"2021-03-22T14:34:49+0000","dateStarted":"2021-03-22T14:31:34+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nAlgorithm Name: Support Vector Machine\n\nMining Function: CLASSIFICATION\n\nTarget: target\n\nSettings: \n                    setting name                 setting value\n0                      ALGO_NAME  ALGO_SUPPORT_VECTOR_MACHINES\n1          CLAS_WEIGHTS_BALANCED                           OFF\n2                   ODMS_DETAILS                  ODMS_DISABLE\n3   ODMS_MISSING_VALUE_TREATMENT       ODMS_MISSING_VALUE_AUTO\n4                  ODMS_SAMPLING         ODMS_SAMPLING_DISABLE\n5                      PREP_AUTO                            ON\n6         SVMS_COMPLEXITY_FACTOR                            10\n7            SVMS_CONV_TOLERANCE                         .0001\n8           SVMS_KERNEL_FUNCTION                 SVMS_GAUSSIAN\n9                SVMS_NUM_PIVOTS                           200\n10                  SVMS_STD_DEV            2.1213203435596424\n\nAttributes: \nalcalinity_of_ash\nalcohol\nash\ncolor_intensity\nflavanoids\nhue\nnonflavanoid_phenols\nod280/od315_of_diluted_wines\nproline\n\nPartition: NO\n\n\n"}]}},{"text":"%md\n4.2. Run the following script to list the hyperparameters and their values tried for the top two models, along with the corresponding model's score metric value.","user":"OMLUSER","dateUpdated":"2021-03-22T14:34:49+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>4.2. Run the following script to list the hyperparameters and their values tried for the top two models, along with the corresponding model's score metric value.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_-2058110498","id":"20210322-135857_1892848109","dateCreated":"2021-03-20T08:36:37+0000","dateStarted":"2021-03-22T14:34:50+0000","dateFinished":"2021-03-22T14:34:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:52"},{"text":"%python\nhyper_results_cl = results_cl['all_evals']\n\nprint(*hyper_results_cl[:2], sep='\\n')","user":"OMLUSER","dateUpdated":"2021-03-22T14:34:50+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_-1883014581","id":"20210322-135857_907118530","dateCreated":"2021-03-20T08:36:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:53","dateFinished":"2021-03-22T14:34:52+0000","dateStarted":"2021-03-22T14:34:52+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(0.9888888888888889, {'CLAS_WEIGHTS_BALANCED': 'OFF', 'SVMS_COMPLEXITY_FACTOR': 10, 'SVMS_NUM_PIVOTS': 200, 'SVMS_STD_DEV': 2.1213203435596424})\n(0.9888888888888889, {'CLAS_WEIGHTS_BALANCED': 'ON', 'SVMS_COMPLEXITY_FACTOR': 10, 'SVMS_NUM_PIVOTS': 200, 'SVMS_STD_DEV': 2.1213203435596424})\n"}]}},{"text":"%md\n4.3. Run the following script to specify a custom search space to explore for model building using the `param_space` argument to the `tune` function. With this specification, model tuning will narrow the set of important hyperparameter values.","user":"OMLUSER","dateUpdated":"2021-03-22T14:34:52+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>4.3. Run the following script to specify a custom search space to explore for model building using the <code>param_space</code> argument to the <code>tune</code> function. With this specification, model tuning will narrow the set of important hyperparameter values.</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_1977804731","id":"20210322-135857_397611586","dateCreated":"2021-03-20T08:40:16+0000","dateStarted":"2021-03-22T14:34:53+0000","dateFinished":"2021-03-22T14:34:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:54"},{"text":"%python\nsearch_space={'RFOR_SAMPLING_RATIO': {'type': 'continuous', 'range': [0.05, 0.5]},\n                'RFOR_NUM_TREES': {'type': 'discrete', 'range': [50, 55]},\n                'TREE_IMPURITY_METRIC': {'type': 'categorical',\n                'range': ['TREE_IMPURITY_ENTROPY', 'TREE_IMPURITY_GINI']},}\n\nat_wine2_cl = automl.ModelTuning(mining_function='classification', score_metric='f1_macro', parallel=2)\n\nresults2_cl = at_wine2_cl.tune('rf', WINE_X_cl, WINE_y_cl, param_space=search_space)\n\nscore2_cl, params2_cl = results2_cl['all_evals'][0]\n\"{:.2}\".format(score2_cl)\n\ntuned_model2_cl = results2_cl['best_model']\ntuned_model2_cl","user":"OMLUSER","dateUpdated":"2021-03-22T14:34:53+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_1401714864","id":"20210322-135857_140482020","dateCreated":"2021-03-20T08:40:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:55","dateFinished":"2021-03-22T14:37:36+0000","dateStarted":"2021-03-22T14:34:55+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nAlgorithm Name: Random Forest\n\nMining Function: CLASSIFICATION\n\nTarget: target\n\nSettings: \n                    setting name            setting value\n0                      ALGO_NAME       ALGO_RANDOM_FOREST\n1              CLAS_MAX_SUP_BINS                       32\n2          CLAS_WEIGHTS_BALANCED                      OFF\n3                   ODMS_DETAILS             ODMS_DISABLE\n4   ODMS_MISSING_VALUE_TREATMENT  ODMS_MISSING_VALUE_AUTO\n5               ODMS_RANDOM_SEED                        0\n6                  ODMS_SAMPLING    ODMS_SAMPLING_DISABLE\n7                      PREP_AUTO                       ON\n8                 RFOR_NUM_TREES                       52\n9            RFOR_SAMPLING_RATIO                      0.2\n10          TREE_IMPURITY_METRIC       TREE_IMPURITY_GINI\n11           TREE_TERM_MAX_DEPTH                       16\n12         TREE_TERM_MINPCT_NODE                      .05\n13        TREE_TERM_MINPCT_SPLIT                       .1\n14         TREE_TERM_MINREC_NODE                       10\n15        TREE_TERM_MINREC_SPLIT                       20\n\nAttributes: \nalcalinity_of_ash\nalcohol\nash\ncolor_intensity\nflavanoids\nhue\nmagnesium\nnonflavanoid_phenols\nod280/od315_of_diluted_wines\nproline\ntotal_phenols\n\nPartition: NO\n\n\n"}]}},{"text":"%md\n## **Step 5:** Automated Model Selection\nAs a short cut, you may choose to go directly to model selection on the training data. Model Selection automatically selects the best algorithm (using Algorithm Selection) from the set of supported algorithms, then builds, tunes, and returns the model.\n\n5.1. Run the following script to define a ModelSelection object and call `select` for automatically building the best model on the wine data.  select the best model for the wine data set:","user":"OMLUSER","dateUpdated":"2021-03-22T14:37:36+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2><strong>Step 5:</strong> Automated Model Selection</h2>\n<p>As a short cut, you may choose to go directly to model selection on the training data. Model Selection automatically selects the best algorithm (using Algorithm Selection) from the set of supported algorithms, then builds, tunes, and returns the model.</p>\n<p>5.1. Run the following script to define a ModelSelection object and call <code>select</code> for automatically building the best model on the wine data.  select the best model for the wine data set:</p>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_-896407524","id":"20210322-135857_1818636539","dateCreated":"2021-03-20T08:40:16+0000","dateStarted":"2021-03-22T14:37:38+0000","dateFinished":"2021-03-22T14:37:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:56"},{"text":"%python\nms_wine = automl.ModelSelection(mining_function = 'classification', parallel=2)\n\nbest_model = ms_wine.select(WINE_X_cl, WINE_y_cl, k=1, cv=2)\nbest_model","user":"OMLUSER","dateUpdated":"2021-03-22T14:37:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false},"editorMode":"ace/mode/undefined","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_286138746","id":"20210322-135857_1450411298","dateCreated":"2021-03-20T08:40:16+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:57","dateFinished":"2021-03-22T14:39:54+0000","dateStarted":"2021-03-22T14:37:39+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"(\nAlgorithm Name: Support Vector Machine\n\nMining Function: CLASSIFICATION\n\nTarget: target\n\nSettings: \n                    setting name                 setting value\n0                      ALGO_NAME  ALGO_SUPPORT_VECTOR_MACHINES\n1          CLAS_WEIGHTS_BALANCED                           OFF\n2                   ODMS_DETAILS                  ODMS_DISABLE\n3   ODMS_MISSING_VALUE_TREATMENT       ODMS_MISSING_VALUE_AUTO\n4                  ODMS_SAMPLING         ODMS_SAMPLING_DISABLE\n5                      PREP_AUTO                            ON\n6         SVMS_COMPLEXITY_FACTOR                            10\n7            SVMS_CONV_TOLERANCE                         .0001\n8           SVMS_KERNEL_FUNCTION                 SVMS_GAUSSIAN\n9                SVMS_NUM_PIVOTS                           200\n10                  SVMS_STD_DEV            2.5495097567963922\n\nAttributes: \nalcalinity_of_ash\nalcohol\nash\ncolor_intensity\nflavanoids\nhue\nmagnesium\nmalic_acid\nnonflavanoid_phenols\nod280/od315_of_diluted_wines\nproanthocyanins\nproline\ntotal_phenols\n\nPartition: NO\n\n, 'svm_gaussian')\n"}]}},{"text":"%md\nCongratulations! You have completed this workshop!\n\n\n## Learn More\n\n* [Automated Machine Learning](https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/automatic-machine-learning.html#GUID-4B240E7A-1A8B-43B6-99A5-7FF86330805A)\n* [Oracle Machine Learning Notebooks](https://docs.oracle.com/en/database/oracle/machine-learning/oml-notebooks/)\n\n## Acknowledgements\n* **Author** - Moitreyee Hazarika, Principal User Assistance Developer\n* **Contributors** -  Mark Hornick, Senior Director, Data Science and Machine Learning; Marcos Arancibia Coddou, Product Manager, Oracle Data Science; Sherry LaMonica, Principal Member of Tech Staff, Advanced Analytics, Machine Learning\n* **Last Updated By/Date** - Tom McGinn and Ashwin Agarwal, March 2021","user":"OMLUSER","dateUpdated":"2021-03-22T14:39:54+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>Congratulations! You have completed this workshop!</p>\n<h2>Learn More</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/1/mlpug/automatic-machine-learning.html#GUID-4B240E7A-1A8B-43B6-99A5-7FF86330805A\">Automated Machine Learning</a></li>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/machine-learning/oml-notebooks/\">Oracle Machine Learning Notebooks</a></li>\n</ul>\n<h2>Acknowledgements</h2>\n<ul>\n<li><strong>Author</strong> - Moitreyee Hazarika, Principal User Assistance Developer</li>\n<li><strong>Contributors</strong> -  Mark Hornick, Senior Director, Data Science and Machine Learning; Marcos Arancibia Coddou, Product Manager, Oracle Data Science; Sherry LaMonica, Principal Member of Tech Staff, Advanced Analytics, Machine Learning</li>\n<li><strong>Last Updated By/Date</strong> - Tom McGinn and Ashwin Agarwal, March 2021</li>\n</ul>\n"}]},"interrupted":false,"jobName":"paragraph_1616421537884_-447812447","id":"20210322-135857_1507699884","dateCreated":"2021-03-20T08:36:37+0000","dateStarted":"2021-03-22T14:39:55+0000","dateFinished":"2021-03-22T14:39:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:58"},{"text":"%md","user":"OMLUSER","dateUpdated":"2021-03-22T14:39:56+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql","editOnDblClick":false},"editorMode":"ace/mode/osql","fontSize":9},"settings":{"params":{},"forms":{}},"interrupted":false,"jobName":"paragraph_1616421537884_-1246804796","id":"20210322-135857_769258182","dateCreated":"2021-03-20T08:36:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"commited":false,"$$hashKey":"object:59"}],"name":"Lab 6: Use AutoML","id":"492090","noteParams":{},"noteForms":{},"angularObjects":{"2G424AQ11:shared_process":[],"2G2CYDYVH:shared_process":[],"2G1TJNAU6:shared_process":[],"2G1A2BZ8P:shared_process":[],"2G2EVWE2E:shared_process":[],"2G1UX5P89:shared_process":[],"2FZWD79VS:shared_process":[],"2G41J3MFM:shared_process":[],"2G3Y6X6J4:shared_process":[],"2G28PTTT6:shared_process":[],"2G2RZN57J:shared_process":[],"2G452HH63:shared_process":[],"2G2SM9VW4:shared_process":[],"2G2NK5155:shared_process":[],"2G3BWMN7G:shared_process":[],"2G3D757SY:shared_process":[],"2G2UM4P38:shared_process":[],"2G19NBSD9:shared_process":[],"2G1JPB5S9:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}